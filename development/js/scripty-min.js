function init(){function e(e,t){var n=0;return console.log("Quantity passed: "+t+"\nNum passed: "+e),n+=e*t}function t(e,t,n){var i=0;return e%t>0?(i=e/t,i=Math.floor(i),i*=n,n+=i):(i=e/t,n*=i),n}function n(n){for(var i,a=0,s=0,o=10,c=.08,r=0,l=0;l<n.length;l++)a+=e(n[l].price,n[l].quantity),r+=n[l].quantity,console.log(n[l].status),"open"===n[l].status&&(i=l);if("undefined"!==i)for(var p=0;p<y.length;p++)a+=t(r,y[p].group,y[p].price);s=a*c,50>a&&(a+=o),a+=s,a=+a.toFixed(2),$("#grandTotal").html(a),u(r)}function i(e,t,n){"top"===n?e>=992?($(t).css({top:"120px"}),setTimeout(function(){$(t).css({top:"0"}),setTimeout(function(){$(t).css({display:"none"})},500)},5e3)):e>=600?($(t).css({top:"130px"}),setTimeout(function(){$(t).css({top:"0"}),setTimeout(function(){$(t).css({display:"none"})},500)},5e3)):($(t).css({top:"190px"}),setTimeout(function(){$(t).css({top:"0"}),setTimeout(function(){$(t).css({display:"none"})},500)},5e3)):"bottom"===n?$(t).css({top:"83%"}):console.log("Incorrect value passed as pos for function overlayPos")}function a(e,t,n,i,a,s){this.name=e,this.desc=t,this.type=n,"undefined"!==i&&(this.min=i),"undefined"!==a&&(this.price=a),"undefined"!==s&&(this.id=s)}function s(e,t){this.price=e,this.thc=t}function o(e,t,n,i,a,s,o,c,r){this.name=e,this.id=t,this.quantity=n,this.price=i,this.desc=a,this.thc=s,"undefined"!==o&&(this.type=o),"undefined"!==c&&(this.status=c),"undefined"!==r&&(this.group=r)}function c(e,t,n,i){this.name=e,this.price=t,this.tier=n,this.group=i}function r(e){var t=[];return t.push("\nItem name: "+e.name+"\nQuantity: "+e.quantity+"\nTHC: "+e.thc+"\n\n"),concat=t.join(""),concat}function u(e){var t=$(".quantity").css("opacity");"0"===t&&0!==e?$(".quantity").css({opacity:"1"}):0===e&&$(".quantity").css({opacity:"0"}),$(".cart-amount").html(e)}function l(e){if("ajax/menu.json"===e){var t="<div class='col s12 m12 l6'><div class='path-selection right'><img src='img/menu-hero.jpg'></div></div>",n="<div id='current-selection' class='col s12 m12 l6 menu-list'>",i="<div class='menu-item'><div class='left'>",o="<div class='right form-set'><form class='current-menu-item' id='",c="<fieldset>",r="<span class='quantity-selection'><label>Quantity</label><input type='number' value='0' min='0' name='quantity'",u=" id='",l="<input class='btn order' type='submit' value='Add to Cart' id='send",p="'></span></fieldset></form></div></div>",d=[t,n],v=[],y=[];$.getJSON("ajax/priceList.json",function(e){$.each(e,function(e,t){"M"===e[0]?(f.push(e=new s(t.price,t.thc)),v.push("<input type='radio' name='price' id='"+t.price+"' value='"+t.price+"' /><label>$"+t.price+" per cupcake &mdash; "+t.thc+"</label><br>")):"C"===e[0]&&y.push("<input type='radio' name='price' id='"+t.price+"' value='"+t.price+"' /><label>$"+t.price+" per 2 &mdash; "+t.thc+"</label><br>")})}),$.getJSON(e,function(e){var t=0;$.each(e,function(e,n){if(t++,d.push(i+"<h2>"+n.name+"</h2><p>"+n.description+"</p></div>"+o+n.name+"'>"+c+"<span class='price-list'>"),"muffin"===n.type)for(var s=0;s<v.length;s++)d.push(v[s]);else if("cookie"===n.type)for(var m=0;m<y.length;m++)d.push(y[m]);d.push("</span>"+r+u+n.quantityName+"'>"+l+p),h.push(objName=new a(n.name,n.description,n.type))}),d.push("</div>");var n=d.join("");$("<div/>",{"class":"col s12 m12 l12 reset-padding",id:"current-menu",html:n}).appendTo('*[data-activate="menu"]'),setTimeout(function(){$(".menu").css({"max-height":"20000px"})},100)})}else if("ajax/customMenu.json"===e){var g="<div class='col s12 m12 l12 center custom-row'><div class='center full-width'>",b="<div class='col s12 m4 l4 menu-button center' id='",w="'><div class='path-selection'><a data-click='true' data-path='",k="' href='#!'><img src='",T="'></a></div><div class='btn-placement-l4'><div class='btn keymaster'><a data-click='true' data-path='",x="' href='#!'>",j="<br><h6>",q="</h6></a></div></div></div>",C=[g];$.getJSON(e,function(e){$.each(e,function(e,t){m.push(new a(t.name,"",t.path,t.min,t.price)),C.push(b+t.path+w+t.path+k+t.img+T+t.path+x+t.name+j+"$"+t.price+" each &mdash; min "+t.min+q)}),C.push("</div></div>");var t=C.join("");$("<div/>",{"class":"col s12 m12 l12 reset-padding",id:"custom-menu",html:t}).appendTo('*[data-activate="menu"]'),setTimeout(function(){$(".menu").css({"max-height":"20000px"})},100)})}}function p(e){$.getJSON(e,function(e){var t,n,i="<form id='",a="' action='' class='custom-menu tiers'><fieldset>",s="<span class='type-desc'><h2 class='title'>",o="</p></span>",c="<label class='inactive'>",r="<input type='checkbox' name='",u="'></label>",l="<span class='tier-btn'><button class='btn next-btn'>Next <span class='fa fa-arrow-right'></span></button></span>",p="<span class='tier-btn'><button class='btn checkout'>Checkout</button></span>",d="</fieldset></form></div>",h=[i];$.each(e,function(e,i){"tier2"===e||"tier3"===e||"tier4"===e?(t=e,n=i.name,tier=i.name,h.push(e+a+s+i.name+"</h2><p>"+i.desc+o)):"undefined"!=typeof i.price&&"3"===i.tier?h.push(c+i.name+" +$"+i.price+r+i.name+"' value='"+i.price+u):"undefined"!=typeof i.price&&"4"===i.tier?h.push(c+i.name+" +$"+i.price+r+i.name+"' value='"+i.price+u):h.push(c+i.name+r+i.name+"' value='Base:"+i.name+u)}),"tier3"===t?h.push(l+d):"tier4"===t?h.push(p+d):h.push(d);var m=h.join(""),f=t+"-"+n;$("<div/>",{"class":"col s12 m12 l12 center custom-row",id:f,html:m}).appendTo("#custom-menu")})}console.log("/*\n*********\n\nScripts for TigerLilyBakes.com\nDeveloped by: Peter Berki\nTwitter: PeterBerki\nGitHub: Pitabaki\nWebsite Applied to: www.tigerlilybakes.com\n\n*********\n*/");var d=window.location.href,h=[],m=[],f=[],v=[],y=[];$(window).resize(function(){var e=window.innerWidth;i(e,"#discount","top"),i(e,"#mobile-cart","bottom")}),$('*[data-path="current"]').click(function(){var e=$("#current-menu").length;return 0!==e?!1:($("#menu").css({overflow:"hidden","max-height":"0px"}),setTimeout(function(){$("#menu-select-nav").css({top:"60px"}),setTimeout(function(){$("#discount").css({display:"block"}),$("#mobile-cart").css({display:"block"}),setTimeout(function(){var e=window.innerWidth;i(e,"#discount","top"),i(e,"#mobile-cart","bottom")},50)},500)},1e3),$("#menu-select-nav").find('[data-path="current"]').addClass("active"),setTimeout(function(){l("ajax/menu.json")},500),!1)}),$('*[data-path="custom"]').click(function(){var e=$("#custom-menu").length;return 0!==e?!1:($("#menu").css({overflow:"hidden","max-height":"0px"}),setTimeout(function(){$("#menu-select-nav").css({top:"60px"}),setTimeout(function(){$("#discount").css({display:"block"}),$("#mobile-cart").css({display:"block"}),setTimeout(function(){var e=window.innerWidth;i(e,"#discount","top"),i(e,"#mobile-cart","bottom")},50)},500)},1e3),$("#menu-select-nav").find('[data-path="custom"]').addClass("active"),setTimeout(function(){l("ajax/customMenu.json")},500),!1)}),$(document).on("click",'*[data-click="true"]',function(){var e=$(this).data("path"),t=Math.random();t=Math.round(1e9*t);var i=[];for(var a in m)if(i.push(m[a].type),e===m[a].type){var s=parseFloat(m[a].price),c=parseFloat(m[a].min);v.push(new o(m[a].name,t,c,s,m[a].type,"","custom","open",c)),n(v)}for(var r=0;r<i.length;r++)if(i[r]!==e){var u=$("#"+i[r]);u.children(".btn-placement-l4").addClass("btn-disappear"),u.css({width:"0",height:"0"}),u.children(".path-selection").css({padding:"0"})}var l="ajax/"+e+".json";return p(l),setTimeout(function(){$(".tiers").css({"max-height":"4000px"})},500),$(".btn-disappear").css({height:"0"}),$("#"+e).css({width:"100%"}),!1}),$(document).on("change",'input[type="checkbox"]',function(){if("B"===$(this).val()[0]){var e="ajax/tier3.json";$(this).parent().removeClass("inactive"),$(this).parent().addClass("active");for(var t=0;t<v.length;t++)if("custom"===v[t].type&&"open"===v[t].status){var i="\n base:",a="type:";a+=v[t].desc,i+=$(this).val(),v[t].desc=a+i}p(e)}else{var s=parseFloat($(this).val()),o=$(this).attr("name"),r=$(this).closest("form").attr("id");if($(this).parent().hasClass("inactive")===!0){$(this).parent().removeClass("inactive"),$(this).parent().addClass("active");for(var t=0;t<v.length;t++)"custom"===v[t].type&&"open"===v[t].status&&(y.push(new c(o,s,r,v[t].group)),console.log(y))}else{$(this).parent().removeClass("active"),$(this).parent().addClass("inactive");for(var t=0;t<y.length;t++)y[t].name===o&&(y.splice(t,1),console.log(y))}n(v),console.log(v)}setTimeout(function(){$(".tiers").css({"max-height":"4000px"})},500)}),$(document).on("click",".next-btn",function(e){e.preventDefault(),location.href="#tier2-Base",setTimeout(function(){$("#tier3").css({"max-height":"0px",opacity:"0"}),setTimeout(function(){$("#tier3-Filling").empty(),setTimeout(function(){p(t),setTimeout(function(){return $(".tiers").css({"max-height":"4000px"}),!1},500)},200)},200)},200);var t="ajax/tier4.json"}),$(document).on("submit",".current-menu-item",function(e){e.preventDefault();var t,i,a=$(this).find("input:radio[name=price]:checked").val(),s=($(this).find("input:radio[name=price]:checked"),$(this).find("input[name=quantity]").val()),c=$(this).find("input[name=quantity]"),r=$(this).attr("id"),l=0,p=c.attr("id"),d=p+a;if("undefined"==typeof a&&""===s||"undefined"==typeof a||""===s||"0"===s)alert("Sorry, but your input was not valid. Make sure both a quantity has been entered and a price has been selected.");else{var m=parseFloat(s),y=parseFloat(a);l+=m,u(l),setTimeout(function(){s=0},100),s=0;for(var g=0;g<f.length;g++)a===f[g].price&&(i=f[g].thc);if(v.length>0)for(var b=0;b<v.length;b++)if(v[b].price===y&&v[b].name===r)return v[b].quantity+=m,n(v),!1;for(var w=0;w<h.length;w++)if(r===h[w].name)return v.push(t=new o(r,d,m,y,h[w].desc,i)),n(v),!1}return!1}),$(document).on("change","input[name=checkout-quantity]",function(){var e=$(this).data("order"),t=$(this).val();t=parseInt(t);for(var i=0;i<v.length;i++)v[i].id===e&&(v[i].quantity=t,n(v))});var g="<h4>Today's Order</h4><p>Review the following order to ensure it's correct.<br><em>Note: drivers check rec cards upon delivery.</em></p>",b="<h4>Order Received!</h4><p>Thank you for placing an order with TigerLily Bakes! Our bakers will contact you shortly to schedule a delivery time.</p>";$(document).on("click",".checkout",function(){var e=[],t=$(".final-order").children();$("#mobile-cart").css({top:"100%"}),setTimeout(function(){$("#mobile-cart").css({display:"none"})},500),t.length>0&&$(".final-order").empty(),$(".final-order").html(g);var i="<span id='",a="class='person-order'>",s="<form><fieldset><input type='number' value='",o="' min='0' name='checkout-quantity' data-order='",c="' /></fieldset></form></span>",r="<span class='order-total'><h6>Delivery fee: $10 for orders under $50 (before tax)<br>California Tax: 8%</h6><h2>$ <span id='grandTotal'>",u="</span></h2></span>";if(v.length>0){for(var l=0;l<v.length;l++)e.push(i+v[l].id+"' "+a+"<h6>"+v[l].name+" </h6><h6><em>"+v[l].thc+"</em></h6>"+s+v[l].quantity+o+v[l].id+c);e.push(r+u);var p=e.join("");$("<div/>",{id:"person-order",html:p}).appendTo(".final-order")}n(v)}),$(document).on("submit","#person-info",function(){for(var e=($("#person-info"),$("#person-info input[name=name]").val(),$("#person-info input[name=address]").val(),$("#person-info input[name=phone]").val(),$("#person-info input[name=email]").val(),$("#person-info input[name=email]")),t=[],n="<input type='hidden' name='message' id='place-order-message' value='",i=0;i<v.length;i++)t.push(r(v[i]));return t=t.join(""),e.value=t,n+=t,n+="' />",$("<span/>",{html:n}).appendTo(".order-form"),!0}),$(document).on("submit","#contact-message",function(){return!0}),$(".nav-trigger").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=$(this.hash);return e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length&&$("html,body").animate({scrollTop:e.offset().top-80},500),!1}}),$(".button-collapse").sideNav({closeOnClick:!0}),$(".checkout").leanModal({dismissible:!0,opacity:.5,in_duration:300,out_duration:200}),$(".thanks").click(function(){var e=$(".final-order").children();e.length>0&&$(".final-order").empty(),$(".final-order").html(b)}),"http://www.tigerlilybakes.com/thank-you.php"!==d&&"http://www.tigerlilybakes.com/thanks.php"!==d||setTimeout(function(){window.location.href="http://www.tigerlilybakes.com"},5e3),$(document).ready(function(){$(".loading").css({opacity:"0"}),setTimeout(function(){$(".loading").css({display:"none"})},2e3)})}window.onload=init;